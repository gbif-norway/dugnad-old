$def with (key, record, forms, zoom)

<script src='/static/openseadragon.js'></script>
<script src='/static/leaflet.js'></script>
<script src='/static/leaflet.draw.js'></script>
<script src='/static/wicket.js'></script>
<script src='/static/wicket-leaflet.js'></script>
<script src='/static/dugnad.js'></script>

<div id=menu>
  <p>
    <a href='#map' id='toggle-map'>Show mapâ€¦</a>
</div>

$if 'dwc:associatedMedia' in record:
  $if zoom:
    <div id=dz></div>
    <script>
    var viewer = OpenSeadragon({
      id: "dz",
      showRotationControl: true,
      minZoomImageRatio: 0.5,
      maxZoomImageRatio: 1.0,
      showFullPageControl: false,
      degrees: 90,
      showHomeControl: false,
      zoomPerScroll: 1.1,
      prefixUrl: "/static/images/",
      tileSources: "/static/tmp/$zoom"
    });
    </script>
  $else:
    <img class='nozoom' src='$record.get('dwc:associatedMedia')'>

<div id=map></div>
<div id=tr>
  <form id='transcription' method='post' action="/dugnad/$key">
    <h3>$key</h3>

		$for name, form in forms.iteritems():
			<fieldset>
				<legend>$_(name)</legend>
				$:form.render()
			</fieldset>
    <p>
      <input name=save type=submit value="$_('Annotate')">
  </form>
</div>

